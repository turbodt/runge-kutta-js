"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class n{constructor(r){this.order=r,this.data=new Float64Array(this.order*this.order+this.order+this.order),this.a=[];for(let e=0;e<this.order;e++)this.a.push(this.data.subarray(e*this.order,(e+1)*this.order));this.b=this.data.subarray(this.order*this.order,this.order*(1+this.order)),this.c=this.data.subarray(this.order*(1+this.order),this.order*(2+this.order))}a;b;c;data;toString(){let r="";for(let e=0;e<this.order;e++)r+=`${this.c[e]} : `,r+=`${this.a[e].join(" ")}`,r+=`
`;return r+=`	 : ${this.b.join(" ")}
`,r}makeItConsistent(){return this.a.forEach((r,e)=>{this.c[e]=0;for(let h=0;h<this.order;h++)this.c[e]+=r[h]}),this}}class l{constructor(r,e){this.butcherTableau=r,this.f=e,this.k=new Array(this.order)}k;get order(){return this.butcherTableau.order}stepInto(r,e,h,i){this.updateK(r,e,h);for(let a=0;a<h.length;a++){i[a]=h[a];for(let s=0;s<this.order;s++)i[a]+=r*this.butcherTableau.b[s]*this.k[s][a]}return this}step(r,e,h){const i=new Float64Array(h.length);return this.stepInto(r,e,h,i),i}stepsInto(r,e,h,i,a){for(let s=0;s<r;s++)this.stepInto(e,h,i,a);if(r===0)for(let s=0;s<i.length;s++)a[s]=i[s];return this}steps(r,e,h,i){const a=new Float64Array(i.length);return this.stepsInto(r,e,h,i,a),a}updateK(r,e,h){const i=new Float64Array(h.length);for(let a=0;a<this.order;a++){for(let s=0;s<h.length;s++){i[s]=0;for(let o=0;o<a;o++)i[s]+=this.butcherTableau.a[a][o]*this.k[o][s];i[s]*=r,i[s]+=h[s]}this.k[a]=this.f(e+r*this.butcherTableau.c[a],i)}}}const t=new n(7);t.a[1][0]=1/5;t.a[2][0]=3/40;t.a[2][1]=9/40;t.a[3][0]=44/45;t.a[3][1]=-56/15;t.a[3][2]=32/9;t.a[4][0]=19372/6561;t.a[4][1]=-25360/2187;t.a[4][2]=64448/6561;t.a[4][3]=-212/729;t.a[5][0]=9017/3168;t.a[5][1]=-355/33;t.a[5][2]=46732/5247;t.a[5][3]=49/176;t.a[5][4]=-5103/18656;t.a[6][0]=35/384;t.a[6][1]=0;t.a[6][2]=500/1113;t.a[6][3]=125/192;t.a[6][4]=-2187/6784;t.a[6][5]=11/84;t.makeItConsistent();t.b[0]=35/384;t.b[1]=0;t.b[2]=500/1113;t.b[3]=125/192;t.b[4]=-2187/6784;t.b[5]=11/84;t.b[6]=0;exports.ButcherTableau=n;exports.RungeKutta=l;exports.rkdp45ButcherTableau=t;
