"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class n{constructor(r){this.order=r,this.data=new Float64Array(this.order*this.order+this.order+this.order),this.a=[];for(let e=0;e<this.order;e++)this.a.push(this.data.subarray(e*this.order,(e+1)*this.order));this.b=this.data.subarray(this.order*this.order,this.order*(1+this.order)),this.c=this.data.subarray(this.order*(1+this.order),this.order*(2+this.order))}a;b;c;data;toString(){let r="";for(let e=0;e<this.order;e++)r+=`${this.c[e]} : `,r+=`${this.a[e].join(" ")}`,r+=`
`;return r+=`	 : ${this.b.join(" ")}
`,r}makeItConsistent(){return this.a.forEach((r,e)=>{this.c[e]=0;for(let a=0;a<this.order;a++)this.c[e]+=r[a]}),this}}class l{constructor(r,e){this.butcherTableau=r,this.f=e,this.k=new Array(this.order)}k;get order(){return this.butcherTableau.order}stepInto(r,e,a,i){this.updateK(r,e,a);for(let s=0;s<a.length;s++){i[s]=a[s];for(let h=0;h<this.order;h++)i[s]+=r*this.butcherTableau.b[h]*this.k[h][s]}return this}step(r,e,a){const i=new Float64Array(a.length);return this.stepInto(r,e,a,i),i}stepsInto(r,e,a,i,s){for(let h=0;h<r;h++)this.stepInto(e,a,i,s);if(r===0)for(let h=0;h<i.length;h++)s[h]=i[h];return this}steps(r,e,a,i){const s=new Float64Array(i.length);return this.stepsInto(r,e,a,i,s),s}updateK(r,e,a){const i=new Float64Array(a.length);for(let s=0;s<this.order;s++){for(let h=0;h<s;h++)for(let o=0;o<a.length;o++)i[o]=a[o]+r*this.butcherTableau.a[s][h]*this.k[h][o];this.k[s]=this.f(e+r*this.butcherTableau.c[s],i)}}}const t=new n(7);t.a[1][0]=1/5;t.a[2][0]=3/40;t.a[2][1]=9/40;t.a[3][0]=44/45;t.a[3][1]=-56/15;t.a[3][2]=32/9;t.a[4][0]=19372/6561;t.a[4][1]=-25360/2187;t.a[4][2]=64448/6561;t.a[4][3]=-212/729;t.a[5][0]=9017/3168;t.a[5][1]=-355/33;t.a[5][2]=46732/5247;t.a[5][3]=49/176;t.a[5][4]=-5103/18656;t.a[6][0]=35/384;t.a[6][1]=0;t.a[6][2]=500/1113;t.a[6][3]=125/192;t.a[6][4]=-2187/6784;t.a[6][5]=11/84;t.makeItConsistent();t.b[0]=35/384;t.b[1]=0;t.b[2]=500/1113;t.b[3]=125/192;t.b[4]=-2187/6784;t.b[5]=11/84;t.b[6]=0;exports.ButcherTableau=n;exports.RungeKutta=l;exports.rkdp45ButcherTableau=t;
